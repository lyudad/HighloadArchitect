[{"/Users/macmini/Documents/Cources/Social_network/client/src/App.tsx":"1","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Registration.tsx":"2","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Login.tsx":"3","/Users/macmini/Documents/Cources/Social_network/client/src/reportWebVitals.ts":"4","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Home.tsx":"5","/Users/macmini/Documents/Cources/Social_network/client/src/Consts/api.ts":"6","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profile.tsx":"7","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profiles.tsx":"8","/Users/macmini/Documents/Cources/Social_network/client/src/Routes.tsx":"9","/Users/macmini/Documents/Cources/Social_network/client/src/index.tsx":"10"},{"size":526,"mtime":1611525720690,"results":"11","hashOfConfig":"12"},{"size":3861,"mtime":1611525033230,"results":"13","hashOfConfig":"12"},{"size":2486,"mtime":1611527625312,"results":"14","hashOfConfig":"12"},{"size":425,"mtime":1609710760177,"results":"15","hashOfConfig":"12"},{"size":793,"mtime":1611525014086,"results":"16","hashOfConfig":"12"},{"size":139,"mtime":1611524952317,"results":"17","hashOfConfig":"12"},{"size":820,"mtime":1611612433831,"results":"18","hashOfConfig":"12"},{"size":1689,"mtime":1612634420313,"results":"19","hashOfConfig":"12"},{"size":2384,"mtime":1611527163725,"results":"20","hashOfConfig":"12"},{"size":500,"mtime":1609710760175,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1j9795w",{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/macmini/Documents/Cources/Social_network/client/src/App.tsx",["47"],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Registration.tsx",["48","49"],"import React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport {\n    useMutation\n} from \"react-query\";\n\nimport { apiPath } from 'Consts/api';\n\ntype Inputs = {\n    firstName: string,\n    lastName: string,\n    age: number,\n    gender: string,\n    interests: string,\n    city: string,\n    email: string,\n    password: string\n};\n\nexport default function Registration() {\n    let history = useHistory();\n\n    const registerUserMutation = useMutation(\n        (registrationData: Inputs) => axios.post(`${apiPath}/auth/signup`, registrationData),\n    )\n\n    useEffect(() => {\n        console.log(\"registerUserMutation.data\", registerUserMutation.data)\n        if (registerUserMutation.data?.data.token) {\n            localStorage.setItem('token', registerUserMutation.data?.data.token);\n            notify();\n            setTimeout(() => history.push(\"/\"), 3000);\n        }\n    }, [registerUserMutation.data?.data?.token])\n\n    const { register, handleSubmit, watch, errors } = useForm<Inputs>();\n\n\n    const onSubmit = (data: Inputs) => {\n        console.log('data,', data)\n        registerUserMutation.mutate(data)\n    }\n\n    const notify = () => toast(\"you register success!\");\n\n    return (\n        <>\n            <ToastContainer />\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div>\n                    <label htmlFor=\"firstName\">First name</label>\n                    <input id=\"firstName\" name=\"firstName\" ref={register({ required: true })} />\n                    {errors.firstName && <span>This field is required</span>}\n                </div>\n\n                <div>\n                    <label htmlFor=\"firstName\">Last name</label>\n                    <input id=\"lastName\" name=\"lastName\" ref={register({ required: true })} />\n                    {errors.lastName && <span>This field is required</span>}\n                </div>\n\n                <div>\n                    <label htmlFor=\"age\">Age</label>\n                    <input id=\"age\" name=\"age\" type=\"number\" ref={register({ required: true })} />\n                    {errors.age && <span>This field is required</span>}\n                </div>\n\n                <div>\n                    <label htmlFor=\"gender\">Gender</label>\n                    <select id=\"gender\" name=\"gender\" ref={register}>\n                        <option value=\"female\">female</option>\n                        <option value=\"male\">male</option>\n                    </select>\n                </div>\n\n                <div>\n                    <label htmlFor=\"interests\">Interests</label>\n                    <input id=\"interests\" name=\"interests\" ref={register({ required: true })} />\n                    {errors.interests && <span>This field is required</span>}\n\n                </div>\n                <div>\n                    <label htmlFor=\"city\">City</label>\n                    <input id=\"City\" name=\"city\" ref={register({ required: true })} />\n                    {errors.city && <span>This field is required</span>}\n                </div>\n\n                <div>\n                    <label htmlFor=\"email\">Email</label>\n                    <input id=\"email\" name=\"email\" type=\"email\"  ref={register({ required: true })} />\n                    {errors.email && <span>This field is required</span>}\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password</label>\n                    <input id=\"password\" name=\"password\" type=\"password\" ref={register({ required: true })} />\n                    {errors.password && <span>This field is required</span>}\n                </div>\n                <input type=\"submit\" />\n            </form>\n        </>\n    );\n}","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Login.tsx",["50","51"],"import React, {useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport {\n    useMutation\n  } from \"react-query\";\n\nimport { apiPath } from 'Consts/api';\n\ntype Inputs = {\n    email: string,\n    password: string,\n};\ninterface LoginProps{\n    updateAuth: (updatedValue: boolean) => void\n}\n\nconst Login: React.FunctionComponent<LoginProps> = ({updateAuth}) => {\n    let history = useHistory();\n    const loginUserMutation = useMutation((registrationData: Inputs) => axios.post(`${apiPath}/auth/login`, registrationData))\n\n    useEffect(() => {\n        if(loginUserMutation.data?.data.token){\n            console.log(\"loginUserMutation.data?.data.token\", loginUserMutation.data?.data.token)\n            localStorage.setItem('token', loginUserMutation.data?.data.token);\n            notify();\n            updateAuth(true)\n            setTimeout(() => history.push(\"/\"), 3000);\n        }\n    }, [loginUserMutation.data?.data?.token])\n\n    useEffect(() => {\n        if(loginUserMutation.data?.data.error){\n            console.log(\"loginUserMutation.data?.data.token\", loginUserMutation.data?.data.error)\n            notifyError();\n        }\n    }, [loginUserMutation.data?.data?.error])\n\n    const { register, handleSubmit, watch, errors } = useForm<Inputs>();\n    \n    const onSubmit = (data: Inputs) => {\n        console.log('data,', data)\n        loginUserMutation.mutate(data)\n    }\n\n    const notify = () => toast(\"you login success!\");\n\n    const notifyError = () => toast(\"login or password is wrong!\");\n\n    return (\n        <>\n            <ToastContainer />\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div>\n                    <label htmlFor=\"email\">Email</label>\n                    <input id=\"email\" name=\"email\" type=\"email\" ref={register({ required: true })}/>\n                    {errors.email && <span>This field is required</span>}\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password</label>\n                    <input id=\"password\" name=\"password\" type=\"password\" ref={register({ required: true })} />\n                    {errors.password && <span>This field is required</span>}\n                </div>\n\n                <input type=\"submit\" />\n            </form>\n        </>\n    );\n}\n\nexport default Login","/Users/macmini/Documents/Cources/Social_network/client/src/reportWebVitals.ts",[],["52","53"],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Home.tsx",["54","55"],"import React, {useEffect} from 'react';\nimport axios from 'axios';\nimport { useQuery } from 'react-query';\nimport { apiPath } from 'Consts/api';\n\nexport default function Home() {\n  const { isLoading, error, data, isFetching } = useQuery(\"userData\", () => {\n    console.log('localStorage.getItem(', localStorage.getItem('token'))\n     return axios.get(`${apiPath}/auth`, {\n       headers: {'authorization': `Bearer ${localStorage.getItem('token')}`}\n     }\n    )},\n     {\n      enabled: !!localStorage.getItem('token')\n     }\n  );\n\n  useEffect(()=> {\n    if(error){\n      localStorage.removeItem(\"token\")\n    }  \n  }, [error])\n\n  console.log('data>>>>>>>>>', error, data)\n  return (\n      <div>\n        {data?.data.firstName ? `Hello ${data?.data.firstName}` : 'Home page'}\n      </div>\n  );\n}\n","/Users/macmini/Documents/Cources/Social_network/client/src/Consts/api.ts",[],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profile.tsx",["56","57"],"import React, {useEffect} from 'react';\nimport axios from 'axios';\n\nimport { useQuery } from \"react-query\";\n\nimport { apiPath } from 'Consts/api';\n\n\nexport default function Login() {\n    const { error, data } = useQuery(\"userData\", () => {\n        console.log('localStorage.getItem(', localStorage.getItem('token'))\n         return axios.get(`${apiPath}/auth`, {\n           headers: {'authorization': `Bearer ${localStorage.getItem('token')}`}\n         }\n        )},\n         {\n          enabled: !!localStorage.getItem('token')\n         }\n      );\n\n    return (\n        <>\n            <div>{data?.data?.firstName}</div>\n            <div>{data?.data?.lastName}</div>\n            <div>{data?.data?.gender}</div>\n            <div>{data?.data?.city}</div>\n            <div>{data?.data?.interests}</div>\n        </>\n    );\n}","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profiles.tsx",["58"],"/Users/macmini/Documents/Cources/Social_network/client/src/Routes.tsx",["59","60","61","62","63","64"],"/Users/macmini/Documents/Cources/Social_network/client/src/index.tsx",[],{"ruleId":null,"fatal":true,"severity":2,"message":"65","line":8,"column":50},{"ruleId":"66","severity":1,"message":"67","line":39,"column":8,"nodeType":"68","endLine":39,"endColumn":48,"suggestions":"69"},{"ruleId":"70","severity":1,"message":"71","line":41,"column":37,"nodeType":"72","messageId":"73","endLine":41,"endColumn":42},{"ruleId":"66","severity":1,"message":"74","line":34,"column":8,"nodeType":"68","endLine":34,"endColumn":45,"suggestions":"75"},{"ruleId":"70","severity":1,"message":"71","line":43,"column":37,"nodeType":"72","messageId":"73","endLine":43,"endColumn":42},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"70","severity":1,"message":"80","line":7,"column":11,"nodeType":"72","messageId":"73","endLine":7,"endColumn":20},{"ruleId":"70","severity":1,"message":"81","line":7,"column":35,"nodeType":"72","messageId":"73","endLine":7,"endColumn":45},{"ruleId":"70","severity":1,"message":"82","line":1,"column":16,"nodeType":"72","messageId":"73","endLine":1,"endColumn":25},{"ruleId":"70","severity":1,"message":"83","line":10,"column":13,"nodeType":"72","messageId":"73","endLine":10,"endColumn":18},{"ruleId":"70","severity":1,"message":"83","line":17,"column":13,"nodeType":"72","messageId":"73","endLine":17,"endColumn":18},{"ruleId":"70","severity":1,"message":"84","line":10,"column":23,"nodeType":"72","messageId":"73","endLine":10,"endColumn":42},{"ruleId":"70","severity":1,"message":"85","line":11,"column":10,"nodeType":"72","messageId":"73","endLine":11,"endColumn":28},{"ruleId":"70","severity":1,"message":"86","line":12,"column":10,"nodeType":"72","messageId":"73","endLine":12,"endColumn":18},{"ruleId":"70","severity":1,"message":"87","line":13,"column":8,"nodeType":"72","messageId":"73","endLine":13,"endColumn":13},{"ruleId":"70","severity":1,"message":"88","line":20,"column":10,"nodeType":"72","messageId":"73","endLine":20,"endColumn":17},{"ruleId":"70","severity":1,"message":"89","line":22,"column":7,"nodeType":"72","messageId":"73","endLine":22,"endColumn":18},"Parsing error: ',' expected.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'registerUserMutation.data'. Either include them or remove the dependency array.","ArrayExpression",["90"],"@typescript-eslint/no-unused-vars","'watch' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'history' and 'updateAuth'. Either include them or remove the dependency array. If 'updateAuth' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["91"],"no-native-reassign",["92"],"no-negated-in-lhs",["93"],"'isLoading' is assigned a value but never used.","'isFetching' is assigned a value but never used.","'useEffect' is defined but never used.","'error' is assigned a value but never used.","'QueryClientProvider' is defined but never used.","'ReactQueryDevtools' is defined but never used.","'useQuery' is defined but never used.","'axios' is defined but never used.","'apiPath' is defined but never used.","'queryClient' is assigned a value but never used.",{"desc":"94","fix":"95"},{"desc":"96","fix":"97"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [history, registerUserMutation.data, registerUserMutation.data?.data.token]",{"range":"98","text":"99"},"Update the dependencies array to be: [history, loginUserMutation.data?.data.token, updateAuth]",{"range":"100","text":"101"},[1082,1122],"[history, registerUserMutation.data, registerUserMutation.data?.data.token]",[1085,1122],"[history, loginUserMutation.data?.data.token, updateAuth]"]