[{"/Users/macmini/Documents/Cources/Social_network/client/src/App.tsx":"1","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Registration.tsx":"2","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Login.tsx":"3","/Users/macmini/Documents/Cources/Social_network/client/src/reportWebVitals.ts":"4","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Home.tsx":"5","/Users/macmini/Documents/Cources/Social_network/client/src/Consts/api.ts":"6","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profile.tsx":"7","/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profiles.tsx":"8","/Users/macmini/Documents/Cources/Social_network/client/src/Routes.tsx":"9"},{"size":526,"mtime":1611525720690,"results":"10","hashOfConfig":"11"},{"size":3861,"mtime":1611525033230,"results":"12","hashOfConfig":"11"},{"size":2486,"mtime":1611527625312,"results":"13","hashOfConfig":"11"},{"size":425,"mtime":1609710760177,"results":"14","hashOfConfig":"11"},{"size":793,"mtime":1611525014086,"results":"15","hashOfConfig":"11"},{"size":139,"mtime":1611524952317,"results":"16","hashOfConfig":"11"},{"size":820,"mtime":1611612433831,"results":"17","hashOfConfig":"11"},{"size":1260,"mtime":1611612509416,"results":"18","hashOfConfig":"11"},{"size":2384,"mtime":1611527163725,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1j9795w",{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/macmini/Documents/Cources/Social_network/client/src/App.tsx",["40"],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Registration.tsx",["41","42"],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Login.tsx",["43","44"],"import React, {useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport {\n    useMutation\n  } from \"react-query\";\n\nimport { apiPath } from 'Consts/api';\n\ntype Inputs = {\n    email: string,\n    password: string,\n};\ninterface LoginProps{\n    updateAuth: (updatedValue: boolean) => void\n}\n\nconst Login: React.FunctionComponent<LoginProps> = ({updateAuth}) => {\n    let history = useHistory();\n    const loginUserMutation = useMutation((registrationData: Inputs) => axios.post(`${apiPath}/auth/login`, registrationData))\n\n    useEffect(() => {\n        if(loginUserMutation.data?.data.token){\n            console.log(\"loginUserMutation.data?.data.token\", loginUserMutation.data?.data.token)\n            localStorage.setItem('token', loginUserMutation.data?.data.token);\n            notify();\n            updateAuth(true)\n            setTimeout(() => history.push(\"/\"), 3000);\n        }\n    }, [loginUserMutation.data?.data?.token])\n\n    useEffect(() => {\n        if(loginUserMutation.data?.data.error){\n            console.log(\"loginUserMutation.data?.data.token\", loginUserMutation.data?.data.error)\n            notifyError();\n        }\n    }, [loginUserMutation.data?.data?.error])\n\n    const { register, handleSubmit, watch, errors } = useForm<Inputs>();\n    \n    const onSubmit = (data: Inputs) => {\n        console.log('data,', data)\n        loginUserMutation.mutate(data)\n    }\n\n    const notify = () => toast(\"you login success!\");\n\n    const notifyError = () => toast(\"login or password is wrong!\");\n\n    return (\n        <>\n            <ToastContainer />\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <div>\n                    <label htmlFor=\"email\">Email</label>\n                    <input id=\"email\" name=\"email\" type=\"email\" ref={register({ required: true })}/>\n                    {errors.email && <span>This field is required</span>}\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password</label>\n                    <input id=\"password\" name=\"password\" type=\"password\" ref={register({ required: true })} />\n                    {errors.password && <span>This field is required</span>}\n                </div>\n\n                <input type=\"submit\" />\n            </form>\n        </>\n    );\n}\n\nexport default Login","/Users/macmini/Documents/Cources/Social_network/client/src/reportWebVitals.ts",[],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Home.tsx",["45","46"],"import React, {useEffect} from 'react';\nimport axios from 'axios';\nimport { useQuery } from 'react-query';\nimport { apiPath } from 'Consts/api';\n\nexport default function Home() {\n  const { isLoading, error, data, isFetching } = useQuery(\"userData\", () => {\n    console.log('localStorage.getItem(', localStorage.getItem('token'))\n     return axios.get(`${apiPath}/auth`, {\n       headers: {'authorization': `Bearer ${localStorage.getItem('token')}`}\n     }\n    )},\n     {\n      enabled: !!localStorage.getItem('token')\n     }\n  );\n\n  useEffect(()=> {\n    if(error){\n      localStorage.removeItem(\"token\")\n    }  \n  }, [error])\n\n  console.log('data>>>>>>>>>', error, data)\n  return (\n      <div>\n        {data?.data.firstName ? `Hello ${data?.data.firstName}` : 'Home page'}\n      </div>\n  );\n}\n","/Users/macmini/Documents/Cources/Social_network/client/src/Consts/api.ts",[],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profile.tsx",["47","48"],"/Users/macmini/Documents/Cources/Social_network/client/src/Pages/Profiles.tsx",["49"],"/Users/macmini/Documents/Cources/Social_network/client/src/Routes.tsx",["50","51","52","53","54","55"],{"ruleId":null,"fatal":true,"severity":2,"message":"56","line":8,"column":50},{"ruleId":"57","severity":1,"message":"58","line":39,"column":8,"nodeType":"59","endLine":39,"endColumn":48,"suggestions":"60"},{"ruleId":"61","severity":1,"message":"62","line":41,"column":37,"nodeType":"63","messageId":"64","endLine":41,"endColumn":42},{"ruleId":"57","severity":1,"message":"65","line":34,"column":8,"nodeType":"59","endLine":34,"endColumn":45,"suggestions":"66"},{"ruleId":"61","severity":1,"message":"62","line":43,"column":37,"nodeType":"63","messageId":"64","endLine":43,"endColumn":42},{"ruleId":"61","severity":1,"message":"67","line":7,"column":11,"nodeType":"63","messageId":"64","endLine":7,"endColumn":20},{"ruleId":"61","severity":1,"message":"68","line":7,"column":35,"nodeType":"63","messageId":"64","endLine":7,"endColumn":45},{"ruleId":"61","severity":1,"message":"69","line":1,"column":16,"nodeType":"63","messageId":"64","endLine":1,"endColumn":25},{"ruleId":"61","severity":1,"message":"70","line":10,"column":13,"nodeType":"63","messageId":"64","endLine":10,"endColumn":18},{"ruleId":"61","severity":1,"message":"70","line":16,"column":13,"nodeType":"63","messageId":"64","endLine":16,"endColumn":18},{"ruleId":"61","severity":1,"message":"71","line":10,"column":23,"nodeType":"63","messageId":"64","endLine":10,"endColumn":42},{"ruleId":"61","severity":1,"message":"72","line":11,"column":10,"nodeType":"63","messageId":"64","endLine":11,"endColumn":28},{"ruleId":"61","severity":1,"message":"73","line":12,"column":10,"nodeType":"63","messageId":"64","endLine":12,"endColumn":18},{"ruleId":"61","severity":1,"message":"74","line":13,"column":8,"nodeType":"63","messageId":"64","endLine":13,"endColumn":13},{"ruleId":"61","severity":1,"message":"75","line":20,"column":10,"nodeType":"63","messageId":"64","endLine":20,"endColumn":17},{"ruleId":"61","severity":1,"message":"76","line":22,"column":7,"nodeType":"63","messageId":"64","endLine":22,"endColumn":18},"Parsing error: ',' expected.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'registerUserMutation.data'. Either include them or remove the dependency array.","ArrayExpression",["77"],"@typescript-eslint/no-unused-vars","'watch' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'history' and 'updateAuth'. Either include them or remove the dependency array. If 'updateAuth' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["78"],"'isLoading' is assigned a value but never used.","'isFetching' is assigned a value but never used.","'useEffect' is defined but never used.","'error' is assigned a value but never used.","'QueryClientProvider' is defined but never used.","'ReactQueryDevtools' is defined but never used.","'useQuery' is defined but never used.","'axios' is defined but never used.","'apiPath' is defined but never used.","'queryClient' is assigned a value but never used.",{"desc":"79","fix":"80"},{"desc":"81","fix":"82"},"Update the dependencies array to be: [history, registerUserMutation.data, registerUserMutation.data?.data.token]",{"range":"83","text":"84"},"Update the dependencies array to be: [history, loginUserMutation.data?.data.token, updateAuth]",{"range":"85","text":"86"},[1082,1122],"[history, registerUserMutation.data, registerUserMutation.data?.data.token]",[1085,1122],"[history, loginUserMutation.data?.data.token, updateAuth]"]